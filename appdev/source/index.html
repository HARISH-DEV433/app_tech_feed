<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      @font-face {
        font-family: Outfit;
        src: url("Outfit-Regular.ttf");
      }
      body {
        background-color: #f7f8fa;
        margin: 0;
        padding: 0;
        text-align: center;
        width: 100%;
        margin: 0;
        padding: 0;
        font-family: Outfit;
      }
      .main {
        margin: 2vw;
        display: block;
        background-color: #ffffff;
        width: 96vw;
        max-width: 600px;
        height: 96vh;
        padding: 5vw;
        padding-top: 0;
        padding-bottom: 0;
      }
      .but {
        width: 30vw;
        height: 5vh;
        min-height: 30px;
        max-height: 43px;
        font-weight: bold;
        background-color: black;
        color: #ffffff;
        border: 2px solid #000000;
        border-radius: 3px;
        display: grid;
        align-items: center;
        font-size: 18px;
      }
      .inp {
        margin-top: 1vh;
        color: black;
        background-color: transparent;
        font-size: 16px;
        border: 2px solid lightgrey;
        border-radius: 4px;
        padding: 4px;
        padding-left: 10px;
        width: 80vw;
        min-height: 42px;
        height: 5vh;
        margin-bottom: 2vh;
      }
      .finp {
        margin: 4px;
        min-width: 50vw;
        width: auto;
        max-width: 190px;
        height: 32px;
        display: grid;
        align-items: center;
        background-color: rgb(186, 1, 112);
        border-radius: 3px;
        color: white;
        padding-left: 10px;
        padding-right: 10px;
        font-weight: 100;
        font-family: Arial, Helvetica, sans-serif;
        cursor: pointer;
      }
      form {
        text-align: left;
        padding: 3vw;
        min-height: 50vh;
        height: 77vh;
        overflow-y: scroll;
      }
      .head {
        padding: 2vw;
        margin: 0;
        height: 12vh;
        border-bottom: 2px solid lightgrey;
      }
      .foot {
        text-align: center;
        width: 100%;
        height: 7vh;
        padding: 1vh 0 1vh 0;
        display: inline-block;
      }
      .but:hover {
        background-color: white;
        color: black;
      }
      hr {
        opacity: 30%;
      }
      h2 {
        margin: 0;
        margin-bottom: 3vh;
        text-align: center;
      }
      h3 {
        text-align: left;
        margin: 0;
      }
      .dis {
        background-color: lightgrey;
      }
      textarea:focus,
      input:focus {
        outline: none;
        border: 2px solid black;
      }
      button {
        background-color: transparent;
        border: none;
        margin: none;
        border: none;
        padding: none;
        height: auto;
      }
      .prgs-con {
        display: flex;
        justify-content: space-between;
        position: relative;
        max-width: 100%;
        width: 350px;
        padding-bottom: 1vh;
      }
      .cir {
        width: 25px;
        height: 25px;
        line-height: normal;
        border-radius: 50%;
        background-color: white;
        text-align: center;
        vertical-align: middle;
        border: 3px solid lightgrey;
      }
      label {
        text-align: left;
        font-size: 17px;
        font-family: Satoshi, sans-serif;
        font-weight: bold;
        color: rgb(17 25 40);
        margin-bottom: 0.75rem;
        margin-top: 1rem;
      }
      .progress {
        background-color: grey;
        position: absolute;
        top: 50%;
        left: 0;
        transform: translateY(-50%);
        height: 4px;
        width: 0%;
        z-index: -1;
        transition: 0.4s ease;
      }
      .act {
        border: 3px solid rgb(72, 72, 72);
      }
      .fill {
        background-color: black;
        border: 3px solid black;
        color: white;
      }
      .ivw {
        margin: 2vw;
        text-align: center;
        border-radius: 3vw;
        width: 76vw;
        background-color: lightgrey;
        height: 14vh;
        line-height: 14vh;
        vertical-align: middle;
      }
      .imgprv {
        object-fit: cover;
        border-radius: 3vw;
        width: 100%;
        height: 100%;
      }
      .txta {
        height: auto;
        min-height: 60px;
        height: 10vh;
        font-size: 14px;
      }
      .signature-container {
        display: block;
        align-items: center;
        margin-top: 10px;
      }
      #signature-pad {
        border: 2px dotted #000;
        border-radius: 5px;
      }
      .ebtn {
        width: 100px;
        display: inline-flex;
        justify-content: space-between;
        padding: 5px 10px;
        background-color: #f00;
        color: #fff;
        border: none;
        cursor: pointer;
      }
      .rating {
        font-size: 24px;
        margin-bottom: 10px;
      }

      .star {
        color: #ccc;
        cursor: pointer;
      }

      .star:hover {
        color: #ffd700;
      }

      .star.active {
        color: #ffd700;
      }
    </style>
    <!-- <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script> -->
  </head>
  <body onload="next()">
    <div class="main">
      <div class="head">
        <h2 id="aplh2" style="margin-bottom: 0; font-size: 23px">
          Welcome!&nbsp;&nbsp;<a style="color: darkblue">Yaskawa</a>
        </h2>
        <a
          id="apln"
          style="display: block; padding: 8px; padding-top: 0; color: darkgrey"
        ></a>
        <!-- <h2>Application No:&nbsp;<a style="color: darkblue;">#123456789</a></h2> -->
        <div class="prgs-con">
          <div class="progress" id="progress"></div>
          <div id="c1" class="cir act">1</div>
          <div id="c2" class="cir">2</div>
          <div id="c3" class="cir">3</div>
          <div id="c4" class="cir">4</div>
          <div id="c5" class="cir">5</div>
          <div id="c6" class="cir">6</div>
          <div id="c7" style="display: none" class="cir">7</div>
        </div>
      </div>
      <!---------New Form 1 Start -->
      <form id="form1" style="display: none">
        <h2>New Application</h2>
        <label>Engineer Name</label>
        <input
          type="text"
          class="inp"
          id="ename"
          placeholder="Engineer Name"
          required
        />
        <label>Generate Token Number</label>
        <input
          type="text"
          class="inp dis"
          id="tokn"
          placeholder="#Generated Automatically"
          disabled
        />
        <!-- <select class="inp">
            <option value="">Yaskawa Drive</option>
            <option value="">Others</option>
        </select>
        <input type="text" class="inp" placeholder="Name"> -->
        <br /><br /><br /><br />
      </form>
      <!---------New Form 2 Start -->
      <form id="form2" style="display: none">
        <h2>Customer Info</h2>
        <label>Company Name</label>
        <input
          type="text"
          id="cmname"
          class="inp"
          placeholder="Company Name"
          required
        />
        <label>Customer Name</label>
        <input
          type="text"
          id="cuname"
          class="inp"
          placeholder="Customer Name"
          required
        />
        <label>Address</label>
        <input
          type="text"
          id="cuadd"
          class="inp"
          placeholder="Address"
          required
        />
        <br />
        <label>Gst No</label>
        <input
          type="text"
          id="cugst"
          class="inp"
          placeholder="Gst No"
          required
        />

        <input type="submit" id="sub2" value="submit" hidden />
      </form>
      <!---------New Form 3 Start -->
      <form id="form3" style="display: none">
        <h2>Drive Details</h2>
        <label>Drive Type</label>
        <select id="drvtyp" onchange="drivelistload(this.value)" class="inp">
          <option value="YASKAWA">Yaskawa Drive</option>
          <option value="Others">Others</option>
        </select>
        <label>Model</label>
        <input
          type="text"
          class="inp"
          placeholder="Drive Model"
          list="kawa"
          id="drvm"
          required
        />
        <datalist id="kawa" class="inp">
          <option value="A1000"></option>
          <option value="V1000"></option>
          <option value="J1000"></option>
          <option value="GA500"></option>
          <option value="GA700"></option>
        </datalist>

        <label>KW</label>
        <select id="kw" class="inp">
          <option value="0.75KW">0.75KW</option>
          <option value="1.1KW">1.1KW</option>
          <option value="1.5KW">1.5KW</option>
          <option value="2.2KW">2.2KW</option>
          <option value="3KW">3KW</option>
          <option value="3.5KW">3.5KW</option>
          <option value="5.5KW">5.5KW</option>
          <option value="7.5KW">7.5KW</option>
          <option value="11KW">11KW</option>
          <option value="15KW">15KW</option>
          <option value="18.5KW">18.5KW</option>
          <option value="22KW">22KW</option>
          <option value="30KW">30KW</option>
          <option value="37KW">37KW</option>
          <option value="40KW">40KW</option>
          <option value="45KW">45KW</option>
          <option value="55KW">55KW</option>
          <option value="75KW">75KW</option>
          <option value="88KW">88KW</option>
          <option value="90KW">90KW</option>
          <option value="110KW">110KW</option>
          <option value="190KW">190KW</option>
          <option value="220KW">220KW</option>
        </select>
        <label>AMPS.</label>
        <input type="text" class="inp" id="amps" placeholder="Amps" required />
        <br />
        <label>Drive img</label>
        <input id="dfii" type="file" accept="image/*;capture=camera" hidden />
        <label class="finp" for="dfii">Choose or Upload file</label>
        <div class="ivw">
          <img
            src="#"
            onerror="this.style.display='none'"
            alt="Upload img to preview"
            id="divw"
            class="imgprv"
          />
          <a id="dtv">Uplaod Image To PreView</a>
        </div>
        <input type="submit" id="sub3" value="submit" hidden />
      </form>
      <!---------New Form 4 Start -->
      <form id="form4" style="display: none">
        <h2>Work Details</h2>
        <label>Work Taken</label>
        <textarea
          class="inp txta"
          id="wrk"
          placeholder="Work Taken......"
        ></textarea>
        <label>Service Type</label>
        <select class="inp" id="styp" onchange="serchang(this.value)">
          <option value="0">New Drive Install</option>
          <option value="1">Service Only</option>
          <option value="2">Field Check Only</option>
        </select>
        <!-------Only fo00r  Service Only -->
        <div id="alrmdiv" style="display: none">
          <label id="alrhd" display="">Alarm & Error Faced by Customer</label>
          <textarea
            id="alrfac"
            class="inp txta"
            placeholder="Alarm Faced By Customer......"
          ></textarea>
          <label id="alrimhd">Alarm img</label>
          <input id="afii" type="file" accept="image/*;capture=camera" hidden />
          <label for="afii" id="aimgl" class="finp"
            >Choose or upload file</label
          >
          <div id="avw" class="ivw">
            <img
              src="#"
              onerror="this.style.display='none'"
              id="aaivw"
              class="imgprv"
            />
            <a id="atv">Upload Image to PreView</a>
          </div>
        </div>
        <br />
        <label>Work Status</label><br />
        &nbsp;&nbsp;&nbsp;
        <input
          onchange="wstas(this.value)"
          type="radio"
          id="rws1"
          name="wsts"
          value="1"
        />
        <label for="rws1">Completed</label
        >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input
          type="radio"
          id="rws2"
          name="wsts"
          onchange="wstas(this.value)"
          value="0"
        />
        <label for="rws2">No</label>
        <br /><br />
        <div id="wuncomp" style="display: none">
          <label id="wntl">Taken for Office</label><br />
          &nbsp;&nbsp;&nbsp;
          <input
            type="radio"
            id="tws1"
            name="tkn"
            onchange="tko(this.value)"
            value="1"
          />
          <label for="tws1">Yes</label
          >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <input
            type="radio"
            onchange="tko(this.value)"
            id="tws2"
            name="tkn"
            value="0"
          />
          <label for="tws2">No</label><br /><br />
          <div id="tknbl" style="display: none">
            <label>Check In Date</label>
            <input type="date" class="inp" id="idat" />
            <input
              id="wfii"
              type="file"
              accept="image/*;capture=camera"
              hidden
            />
            <label for="wfii" class="finp">Choose or upload file</label>
            <div class="ivw">
              <img
                src="#"
                onerror="this.style.display='none'"
                id="wivw"
                class="imgprv"
              />
              <a id="wtv">Upload Image to PreView</a>
            </div>
          </div>
        </div>
        <input type="submit" id="sub4" value="submit" hidden />
      </form>
      <!---------New Form 5 Start -->
      <form id="form5" style="display: none">
        <h2>Service Work Details</h2>
        <label>Issue Faced</label>
        <textarea
          id="ifac"
          class="inp txta"
          placeholder="Problems Faced in Drive......"
        ></textarea>
        <label>Process Date</label>
        <input type="date" id="pdat" class="inp" id="pdat" />
        <label></label>
        <select class="inp" id="serabl" onchange="">
          <option value="Servicable">Servicable</option>
          <option value="Non Service">Non Service</option>
        </select>
        <label>Complete Date</label>
        <input type="date" class="inp" id="cdat" />
        <label>Materials Replaced</label>
        <input
          type="text"
          class="inp"
          style="display: inline-flex; width: 65vw"
          id="minput"
        />
        <input type="button" style="display: inline-flex; border-radius: 3px;
        width: 12vw; height: 5vh; background-color: darkblue; color: white;
        font-weight: bold; padding: 10px; border: none;style="none" value="+"
        id="madd" />

        <ul id="mlist">
          <li><b>Materials</b></li>
        </ul>
      </form>
      <!-- ///////FForm 6 sATRTing -->
      <form id="form6" style="display: none">
        <h2>Customer Feedback</h2>
        <label>About the Company</label>
        <input
          type="text"
          class="inp"
          id="abtc"
          placeholder="About Company.."
          required
        />
        <label>About The Engineer</label>
        <input
          type="text"
          class="inp"
          id="abte"
          placeholder="About Engineer.."
          required
        />
        <label>About The Work</label>
        <input
          id="abtw"
          type="text"
          class="inp"
          placeholder="About Work..."
          required
        />
        <label>Star Rating</label>
        <div class="rating">
          <span class="star" data-rating="1">&#x2605;</span>
          <span class="star" data-rating="2">&#x2605;</span>
          <span class="star" data-rating="3">&#x2605;</span>
          <span class="star" data-rating="4">&#x2605;</span>
          <span class="star" data-rating="5">&#x2605;</span>
        </div>
        <!-- <label>E-sign</label>
        <div class="signature-container" style="display: none">
          <canvas id="signature-pad" width="310" height="150"></canvas>
          <a class="ebtn" id="clear-button">Clear</a>
          <a class="ebtn" id="save-button">Upload</a>
        </div>
        <div style="display: none">
          <img src="#" style="display: none" id="esivw" />
        </div> -->
        <label>E-Sign</label><br />
        <section class="signature-component">
          <!-- width="100" height="150" -->
          <canvas
            id="signature-pad"
            style="
              width: 100%;
              height: 100%;
              margin-bottom: 10px;
              margin-top: 7px;
            "
          ></canvas>
          <div>
            <a class="ebtn" id="clear">Clear</a>
            <a class="ebtn" id="upload">Upload</a>
          </div>
        </section>
        <div>
          <img
            src="#"
            style="display: none; width: 100%; height: auto"
            id="esivw"
          />
        </div>
        <!--         Second edition
        <div id="signature-pad" class="signature-pad">
          <div class="signature-pad--body">
            <canvas></canvas>
          </div>
          <div class="signature-pad--footer">
            <div class="signature-pad--actions">
              <button type="button" class="button clear" data-action="clear">
                Clear
              </button>
            </div>
          </div>
        </div> -->

        <input type="submit" id="sub6" value="submit" hidden />
      </form>
      <!---------New Form 6 Start -->
      <form id="form7" style="display: none">
        <center>
          <div style="width: 100%; height: 60vh; padding-top: 20vh">
            <h2 style="color: green">Congratulaions!</h2>
            <a>#Application Submitted Successfully</a>
          </div>
        </center>
      </form>
      <div class="foot">
        <a
          class="but"
          id="bck"
          onclick="back()"
          style="float: left; display: none"
          >Back</a
        >
        <a class="but" id="nxt" style="float: right" onclick="">Save >></a>
      </div>
    </div>
    <script src="main.js"></script>
    <script>
      // Star Rating
      const rating = document.querySelector(".rating");
      const stars = rating.querySelectorAll(".star");
      let r = 0;

      stars.forEach((star, index) => {
        star.addEventListener("click", () => {
          stars.forEach((s) => s.classList.remove("active"));
          for (let i = 0; i <= index; i++) {
            stars[i].classList.add("active");
            r = index + 1;
          }
        });
      });
    </script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
      import {
        getDatabase,
        set,
        ref,
        get,
        remove,
      } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      // const firebaseConfig = {
      //   apiKey: "AIzaSyAiaPFkuinJ25wa8gN7kU_aFgM9tdxdeGc",
      //   authDomain: "rcf22-785e0.firebaseapp.com",
      //   databaseURL: "https://rcf22-785e0-default-rtdb.firebaseio.com",
      //   projectId: "rcf22-785e0",
      //   storageBucket: "rcf22-785e0.appspot.com",
      //   messagingSenderId: "371429608822",
      //   appId: "1:371429608822:web:e5f2a3e1d0912aa56ebe57",
      //   measurementId: "G-SSV1G6E8ED",
      // };

      // // Initialize Firebase (make sure firebaseConfig is defined correctly)
      // firebase.initializeApp(firebaseConfig);

      // Get a reference to the database
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="sign.js"></script>
    <script src="formation.js"></script>
    <script type="module" src="db.js"></script>
  </body>
</html>
